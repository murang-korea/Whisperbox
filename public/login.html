<!doctype html>
<html lang="ko">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>ë¡œê·¸ì¸</title><link rel="stylesheet" href="style.css" /></head>
<body>
  <div class="header">ğŸ” WhisperBox - ë¡œê·¸ì¸</div>
  <div class="container">
    <div class="card">
      <input id="username" placeholder="ì•„ì´ë””" />
      <input id="password" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" />
      <div class="row">
        <button id="loginBtn">ë¡œê·¸ì¸</button>
        <button onclick="location.href='signup.html'">íšŒì›ê°€ì…</button>
      </div>
      <div style="margin-top:8px"><a href="index.html">ëª©ë¡ìœ¼ë¡œ</a></div>
    </div>
  </div>

<script src="script.js"></script>
<script>
document.getElementById("loginBtn").addEventListener("click", async ()=>{
  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();
  if(!username || !password) return alert("ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥");
  const res = await fetch("/api/login", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({ username, password })
  });
  const data = await res.json();
  if(data?.success) { location.href="index.html"; }
  else alert(data?.error || data?.message || "ë¡œê·¸ì¸ ì‹¤íŒ¨");
});
</script>
</body>
</html>
