<!doctype html>
<html lang="ko">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>íšŒì›ê°€ì…</title><link rel="stylesheet" href="style.css" /></head>
<body>
  <div class="header">ğŸ†• WhisperBox - íšŒì›ê°€ì…</div>
  <div class="container">
    <div class="card">
      <input id="username" placeholder="ì•„ì´ë”” (ì˜ë¬¸/ìˆ«ì)" />
      <input id="nickname" placeholder="ë‹‰ë„¤ì„ (ê²Œì‹œê¸€ì— í‘œì‹œë¨)" />
      <input id="password" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" />
      <div class="row">
        <button id="signupBtn">íšŒì›ê°€ì…</button>
        <button onclick="location.href='login.html'">ë¡œê·¸ì¸</button>
      </div>
      <div style="margin-top:8px"><a href="index.html">ëª©ë¡ìœ¼ë¡œ</a></div>
    </div>
  </div>

<script src="script.js"></script>
<script>
document.getElementById("signupBtn").addEventListener("click", async ()=>{
  const username = document.getElementById("username").value.trim();
  const nickname = document.getElementById("nickname").value.trim();
  const password = document.getElementById("password").value.trim();
  if(!username || !nickname || !password) return alert("ëª¨ë“  í•­ëª© ì…ë ¥");
  const res = await fetch("/api/signup", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({ username, password, nickname })
  });
  const data = await res.json();
  if(data?.success || data?.message) {
    alert("íšŒì›ê°€ì… ì™„ë£Œ! ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.");
    location.href = "login.html";
  } else alert(data?.error || "ê°€ì… ì‹¤íŒ¨");
});
</script>
</body>
</html>
